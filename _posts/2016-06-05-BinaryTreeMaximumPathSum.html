---
layout: default
title: (leetcode124)Binary Tree Maximum Path Sum
---

<h2>{{ page.title }}</h2>
<p>求把二叉树作为无向图看，求任意两点间的最大距离，两点间的距离为两点相连所经过的所有结点的结点值之和</p>
{% highlight ruby %} 
public class Solution {

	private int maxSum=Integer.MIN_VALUE;
    public int maxPathSumd(TreeNode root) {
        if(root.left==null&&root.right==null)
        {
        	if(root.val>maxSum)
        		maxSum=root.val;
        	return root.val;        	
        }

        int left=0;
        int right=0;
        if(root.left!=null)
        	left=maxPathSumd(root.left);
        if(root.right!=null)
        	right=maxPathSumd(root.right);
        if(left>0&&right>0)
        {
        	if(left+right+root.val>maxSum)				//当结点root左右结点都大于零时可知在root.val、root.val+left、root.val+right、root.val+left+right
																		//中left+right+root.val最大，所以直接用其与maxSum比较即可
        		maxSum=left+right+root.val;
        	return Math.max(left,right)+root.val;
        }else if(Math.max(left, right)>0)
        {
        	if(Math.max(left, right)+root.val>maxSum)		//知root.val+Math.max(left,right)在root.val、root.val+left、root.val+right、root.val+left+right中
																				//最大
        		maxSum=Math.max(left, right)+root.val;
        	return Math.max(left, right)+root.val;
        }else if(root.val>maxSum)
        	maxSum=root.val;
        return root.val;        
    }
    public int maxPathSum(TreeNode root) {
    	maxPathSumd(root);
    	return maxSum;
    }
}
 {% endhighlight %}
<p>{{ page.date | date_to_string }}</p>