---
layout: default
title: (leetcode236)Lowest Common Ancestor of a Binary Tree
---

<h2>{{ page.title }}</h2>
<p>查找所给两个结点的最接近的公共祖先</p>
{% highlight ruby %} 
public class Solution {
	private void travelTree(TreeNode root,TreeNode p,Deque<TreeNode> queue)
	{
		queue.offer(root);
		if(p==root)
			return ;
		if(queue.peekLast()!=p&&root.left!=null)
			travelTree(root.left,p,queue);
		if(queue.peekLast()!=p&&root.right!=null)
			travelTree(root.right,p,queue);
		if(queue.peekLast()!=p)
			queue.pollLast();
	}
	
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        Deque<TreeNode> queue1=new LinkedList<>();
        Deque<TreeNode> queue2=new LinkedList<>();
        if(root==null)
        	return null;
        travelTree(root,p,queue1);
        travelTree(root,q,queue2);
        TreeNode ancestor=null;
        while(queue1.peek()==queue2.peek())
        {
        	ancestor=queue1.poll();
        	queue2.poll();
        }
        return ancestor;
    }
}
 {% endhighlight %}
<p>{{ page.date | date_to_string }}</p>