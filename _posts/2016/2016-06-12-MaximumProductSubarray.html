---
layout: default
title: (leetcode152)Maximum Product Subarray
---

<h2>{{ page.title }}</h2>
<p>采用动态规划的思想，注意此题除了保存以上一个相邻元素为尾的最大值同时还要保存一个最小值</p>
{% highlight ruby %} 
public class Solution {
    public int maxProduct(int[] nums) {
    	if(nums.length==1)
    		return nums[0];
    	int preMin=nums[0];
    	int preMax=nums[0];
    	int curMax=0;
    	int curMin=0;
    	int Max=preMax;
        for(int i=1;i<nums.length;i++)
        {
        	if(nums[i]>=0)
        	{
        		curMax=preMax>0?(nums[i]*preMax):nums[i];
        		curMin=preMin>0?nums[i]:(preMin*nums[i]);
        	}
        	else
        	{
        		curMax=preMin>0?nums[i]:(nums[i]*preMin);
        		curMin=preMax>0?(nums[i]*preMax):nums[i];
        	}
        	preMax=curMax;
        	preMin=curMin;
        	
        	if(Max<curMax)
        		Max=curMax;
        }
        return Max;
    }
}
 {% endhighlight %}
<p>{{ page.date | date_to_string }}</p>