---
layout: default
title: (leetcode297)Serialize and Deserialize Binary Tree
---

<h2>{{ page.title }}</h2>
<p>空引用用特殊字符代替也进行存储</p>
{% highlight ruby %} 
class Codec {

    // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
    	StringBuilder sb=new StringBuilder();
        if(root!=null)
        	serialize(root,sb);
        return sb.toString();
        	
    }
    
    public void serialize(TreeNode root,StringBuilder sb) {
        sb=sb.append(root.val);
        sb.append(" ");
        if(root.left!=null)
        	serialize(root.left,sb);
        else
        	sb.append("#"+" ");
        if(root.right!=null)
        	serialize(root.right,sb);
        else
        	sb.append("#"+" ");
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        if(data.equals(""))
        	return null;
        List<String> list=new ArrayList<String>(Arrays.asList(data.split(" ")));
        tag=0;
        return deserialize(list);
    }
    
    private int tag=0;
    public TreeNode deserialize(List<String> list) {
        TreeNode root=new TreeNode(Integer.parseInt(list.get(tag++)));
        if(!list.get(tag).equals("#"))
        	root.left=deserialize(list);
        tag++;
        if(!list.get(tag).equals("#"))
        	root.right=deserialize(list);
        return root;
    }
}
{% endhighlight %}
<p>{{ page.date | date_to_string }}</p>