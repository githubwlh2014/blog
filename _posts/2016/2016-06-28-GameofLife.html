---
layout: default
title: (leetcode289)Game of Life
---

<h2>{{ page.title }}</h2>
<p>关键是状态转换时怎么标记</p>
{% highlight ruby %} 
public class Solution {
	public int numOfLive(int[][] board,int x,int y)
	{
		int num=2;
		int count=0;
		int row=(x<board.length-1?x+1:board.length-1);
		int col=(y<board[0].length-1?y+1:board[0].length-1);
		for(int i=(x>0?x-1:0);i<=row;i++)
			for(int j=(y>0?y-1:0);j<=col;j++)
				if(i!=x||j!=y)
					if((board[i][j]&num)!=0)
						count++;		
		return count;
	}
	
    public void gameOfLife(int[][] board) {
    	if(board==null||board.length==0||board[0].length==0)
    		return ;
        for(int i=0;i<board.length;i++)
        	for(int j=0;j<board[0].length;j++)
        		if(board[i][j]==1)
        			board[i][j]=2;
        
        for(int i=0;i<board.length;i++)
        	for(int j=0;j<board[0].length;j++)
        	{
        		int count=numOfLive(board,i,j);
        		if(board[i][j]==2)
        		{
        			if(count<2)
        				board[i][j]=2;
        			else if(count>3)
        				board[i][j]=2;
        			else
        				board[i][j]=3;
        		}
        		else
        		{
        			if(count==3)
        				board[i][j]=1;
        			else
        				board[i][j]=0;
        		}
        			
        	}
        
        for(int i=0;i<board.length;i++)
        	for(int j=0;j<board[0].length;j++)
        		if((board[i][j]&1)==0)
        			board[i][j]=0;
        		else
        			board[i][j]=1;
    }
}
{% endhighlight %}
<p>{{ page.date | date_to_string }}</p>