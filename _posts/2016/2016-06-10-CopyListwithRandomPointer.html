---
layout: default
title: (leetcode138)Copy List with Random Pointer
---

<h2>{{ page.title }}</h2>
<p>复杂链表复制，详解见剑指offer</p>
{% highlight ruby %} 
public class Solution {
    public RandomListNode copyRandomList(RandomListNode head) {
    	if(head==null)
    		return null;
        RandomListNode travelNode=head;
        RandomListNode tmpNode=null;
        while(travelNode!=null)
        {
        	tmpNode=new RandomListNode(travelNode.label);
        	tmpNode.next=travelNode.next;
        	travelNode.next=tmpNode;
        	travelNode=tmpNode.next;
        }
        travelNode=head;
        while(travelNode!=null)
        {
        	if(travelNode.random!=null)
        	{
        		travelNode.next.random=travelNode.random.next;
        	}else
        	{
        		travelNode.next.random=null;
        	}
    		travelNode=travelNode.next.next;
        }
        travelNode=head;
        tmpNode=new RandomListNode(0);
        RandomListNode cHead=tmpNode;
        while(travelNode!=null)
        {
        	tmpNode.next=travelNode.next;
        	tmpNode=tmpNode.next;
        	travelNode.next=tmpNode.next;
        	travelNode=travelNode.next;        	
        }
        return cHead.next;		
    }
}
 {% endhighlight %}
<p>{{ page.date | date_to_string }}</p>