---
layout: default
title: (leetcode174)Dungeon Game
---

<h2>{{ page.title }}</h2>
<p>动态规划，右下角开始。注意每块方格进入时health必须>=1。</p>
{% highlight ruby %} 
public class Solution {
    public int calculateMinimumHP(int[][] dungeon) {
    	
    	int tmp=0;
        for(int i=dungeon.length-1;i>=0;i--)
        	for(int j=dungeon[0].length-1;j>=0;j--)
        	{
        		if((i==dungeon.length-1)&&(j==dungeon[0].length-1))
        			tmp=1-dungeon[i][j];   
        		else if(i==dungeon.length-1)
        			tmp=dungeon[i][j+1]-dungeon[i][j];
        		else if(j==dungeon[0].length-1)
        			tmp=dungeon[i+1][j]-dungeon[i][j];
        		else
        			tmp=Math.min(dungeon[i+1][j], dungeon[i][j+1])-dungeon[i][j];
        		if(tmp<=0)
        		{
        			if(dungeon[i][j]>0)
        				dungeon[i][j]=1;
        			else
        				dungeon[i][j]=Math.abs(dungeon[i][j])+1;
        		}
        		else
        		{
        			if((tmp+dungeon[i][j]>0))
        				dungeon[i][j]=tmp;
        			else
        				dungeon[i][j]=tmp+1;
        		}

        			
        			
        	}
        if(dungeon[0][0]<=0)
        	return 0;
        else
        	return dungeon[0][0];
    }
}
 {% endhighlight %}
<p>{{ page.date | date_to_string }}</p>